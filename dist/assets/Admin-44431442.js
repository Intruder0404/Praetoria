import{v as ea,x as xt,m as at,h as lt,y as E,z as ta,A as aa,B as le,I as la,C as ee,D as na,E as C,G as q,H as he,J as He,K as ua,L as re,M as ia,N as se,O as oa,P as ct,Q as ra,b as i,R as sa,S as M,F as L,T as Xe,U as da,W as ca,X as fa,Y as St,Z as ye,$ as va,a0 as ce,a1 as Ne,a as Ge,c as j,w as I,a2 as nt,o as P,d as N,V as J,n as ut,i as kt,a3 as ma,j as R,k as be,a4 as ga,a5 as we,a6 as Ae,a7 as it,u as Ee,l as Ke,f as Ue,a8 as ha,a9 as Vt,aa as wt,ab as Ye,ac as ya,t as oe,ad as Te,ae as Ve,af as Fe,ag as ba,ah as pa,ai as xa,aj as Be,ak as Sa,al as ka,am as Va,an as wa,ao as Oe,ap as Pa,aq as Ia,ar as Ca,as as ft,at as Da,au as ke,av as Ta,aw as Pt,ax as It,ay as Fa,az as Aa,aA as _a,aB as Ct,aC as Dt,aD as Oa,aE as Ba,aF as Tt,aG as La,aH as Ze,aI as $a,aJ as Re,aK as W,aL as vt,aM as Pe,aN as Ie,aO as Ra,aP as Ma,aQ as Na,aR as Ft,aS as je,aT as Me,aU as Ea,aV as Ua,aW as ja,aX as Ha,aY as mt,aZ as Je,a_ as Ga,a$ as Ka,b0 as za,r as Qe,b1 as Wa,b2 as qa}from"./index-8569af94.js";import{V as At}from"./VContainer-e7af1527.js";import{V as _e,a as et,m as Ja,u as Qa,b as Xa,c as Ya}from"./VSelect-c7e7c7ba.js";import{V as ze}from"./VCheckboxBtn-444cac47.js";function gt(e,l,t){return Object.keys(e).filter(a=>ea(a)&&a.endsWith(l)).reduce((a,n)=>(a[n.slice(0,-l.length)]=o=>e[n](o,t(o)),a),{})}const Za=xt({name:"CreateDialog",data(){return{active:!1,name:null}},props:["isActive"],methods:{close(){this.$emit("closeCreate")}},computed:{...at(lt,["options","optionLoading"])},watch:{isActive:{handler(e,l){this.active=e}}},mounted(){this.name=this.$route.params.name}});const el=E({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...ta(),...aa()},"VTextarea"),_t=le()({name:"VTextarea",directives:{Intersect:la},inheritAttrs:!1,props:el(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:t,emit:a,slots:n}=l;const o=ee(e,"modelValue"),{isFocused:d,focus:s,blur:u}=na(e),c=C(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),v=C(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function f(w,A){var B,K;!e.autofocus||!w||(K=(B=A[0].target)==null?void 0:B.focus)==null||K.call(B)}const r=q(),m=q(),S=he(""),b=q(),p=C(()=>e.persistentPlaceholder||d.value||e.active);function y(){var w;b.value!==document.activeElement&&((w=b.value)==null||w.focus()),d.value||s()}function T(w){y(),a("click:control",w)}function O(w){a("mousedown:control",w)}function h(w){w.stopPropagation(),y(),ye(()=>{o.value="",va(e["onClick:clear"],w)})}function V(w){var B;const A=w.target;if(o.value=A.value,(B=e.modelModifiers)!=null&&B.trim){const K=[A.selectionStart,A.selectionEnd];ye(()=>{A.selectionStart=K[0],A.selectionEnd=K[1]})}}const H=q(),G=q(+e.rows),x=C(()=>["plain","underlined"].includes(e.variant));He(()=>{e.autoGrow||(G.value=+e.rows)});function D(){e.autoGrow&&ye(()=>{if(!H.value||!m.value)return;const w=getComputedStyle(H.value),A=getComputedStyle(m.value.$el),B=parseFloat(w.getPropertyValue("--v-field-padding-top"))+parseFloat(w.getPropertyValue("--v-input-padding-top"))+parseFloat(w.getPropertyValue("--v-field-padding-bottom")),K=H.value.scrollHeight,te=parseFloat(w.lineHeight),fe=Math.max(parseFloat(e.rows)*te+B,parseFloat(A.getPropertyValue("--v-input-control-height"))),ve=parseFloat(e.maxRows)*te+B||1/0,X=Ne(K??0,fe,ve);G.value=Math.floor((X-B)/te),S.value=ce(X)})}ua(D),re(o,D),re(()=>e.rows,D),re(()=>e.maxRows,D),re(()=>e.density,D);let k;return re(H,w=>{w?(k=new ResizeObserver(D),k.observe(H.value)):k==null||k.disconnect()}),ia(()=>{k==null||k.disconnect()}),se(()=>{const w=!!(n.counter||e.counter||e.counterValue),A=!!(w||n.details),[B,K]=oa(t),{modelValue:te,...fe}=ct.filterProps(e),ve=ra(e);return i(ct,M({ref:r,modelValue:o.value,"onUpdate:modelValue":X=>o.value=X,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":x.value},e.class],style:e.style},B,fe,{centerAffix:G.value===1&&!x.value,focused:d.value}),{...n,default:X=>{let{id:de,isDisabled:pe,isDirty:xe,isReadonly:Ce,isValid:De}=X;return i(sa,M({ref:m,style:{"--v-textarea-control-height":S.value},onClick:T,onMousedown:O,"onClick:clear":h,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ve,{id:de.value,active:p.value||xe.value,centerAffix:G.value===1&&!x.value,dirty:xe.value||e.dirty,disabled:pe.value,focused:d.value,error:De.value===!1}),{...n,default:Q=>{let{props:{class:ae,...Se}}=Q;return i(L,null,[e.prefix&&i("span",{class:"v-text-field__prefix"},[e.prefix]),Xe(i("textarea",M({ref:b,class:ae,value:o.value,onInput:V,autofocus:e.autofocus,readonly:Ce.value,disabled:pe.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:u},Se,K),null),[[da("intersect"),{handler:f},null,{once:!0}]]),e.autoGrow&&Xe(i("textarea",{class:[ae,"v-textarea__sizer"],id:`${Se.id}-sizer`,"onUpdate:modelValue":ne=>o.value=ne,ref:H,readonly:!0,"aria-hidden":"true"},null),[[ca,o.value]]),e.suffix&&i("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:A?X=>{var de;return i(L,null,[(de=n.details)==null?void 0:de.call(n,X),w&&i(L,null,[i("span",null,null),i(fa,{active:e.persistentCounter||d.value,value:c.value,max:v.value},n.counter)])])}:void 0})}),St({},r,m,b)}}),tl=Ue("span",{class:"text-h5"},"New Item",-1);function al(e,l,t,a,n,o){return P(),j(nt,{modelValue:e.active,"onUpdate:modelValue":l[0]||(l[0]=d=>e.active=d)},{activator:I(({props:d})=>[i(J,M({color:"white",dark:"",class:"mb-2"},d),{default:I(()=>[N(" New Item ")]),_:2},1040)]),default:I(()=>[i(Ke,null,{default:I(()=>[i(ut,null,{default:I(()=>[tl]),_:1}),i(kt,null,{default:I(()=>[i(At,null,{default:I(()=>[i(ma,null,{default:I(()=>[e.options[e.name][0]!=null?(P(!0),R(L,{key:0},be(e.options[e.name][0],(d,s)=>(P(),j(ga,{key:s,cols:"12",sm:"6",md:"4"},{default:I(()=>[String(s)==="attribute_values"?(P(!0),R(L,{key:0},be(d,(u,c)=>(P(),R(L,null,[u.type.type==="text"?(P(),j(we,{key:0,label:u.attribute.attribute.name},null,8,["label"])):u.type.type==="textArea"?(P(),j(_t,{key:1,label:u.attribute.name},null,8,["label"])):Ae("",!0),u.type.type==="select"?(P(),j(_e,{key:2,items:u.attribute.name==="Family"?e.options.families:u.attribute.name==="Religion"?e.options.religions:[],label:u.attribute.name,"item-title":"name","item-value":"id"},null,8,["items","label"])):Ae("",!0)],64))),256)):(P(),j(we,{key:1,label:String(s)},null,8,["label"]))]),_:2},1024))),128)):Ae("",!0)]),_:1})]),_:1})]),_:1}),i(it,null,{default:I(()=>[i(Ee),i(J,{color:"blue-darken-1",variant:"text",onClick:e.close},{default:I(()=>[N(" Cancel ")]),_:1},8,["onClick"]),i(J,{color:"blue-darken-1",variant:"text",onClick:e.close},{default:I(()=>[N(" Save ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ll=Ge(Za,[["render",al]]),nl={name:"DeleteDialog",props:["isActive"],methods:{close(){this.$emit("closeCreate")}},data(){return{active:!1}},watch:{isActive:{handler(e,l){this.active=e}}},mounted(){this.name=this.$route.params.name}};function ul(e,l,t,a,n,o){return P(),j(nt,{modelValue:n.active,"onUpdate:modelValue":l[0]||(l[0]=d=>n.active=d),"max-width":"500px"},{default:I(()=>[i(Ke,null,{default:I(()=>[i(ut,{class:"text-h5"},{default:I(()=>[N("Are you sure you want to delete this item?")]),_:1}),i(it,null,{default:I(()=>[i(Ee),i(J,{color:"blue-darken-1",variant:"text",onClick:o.close},{default:I(()=>[N("Cancel")]),_:1},8,["onClick"]),i(J,{color:"blue-darken-1",variant:"text",onClick:o.close},{default:I(()=>[N("OK")]),_:1},8,["onClick"]),i(Ee)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const il=Ge(nl,[["render",ul]]),ol={name:"UpdateDialog",data(){return{active:!1,name:null,fieldIgnore:["type","rank"]}},props:["isActive","editedItem"],methods:{close(){this.$emit("closeCreate")}},computed:{...at(lt,["options"])},watch:{isActive:{handler(e,l){this.active=e}}},mounted(){this.name=this.$route.params.name}},rl=Ue("span",{class:"text-h5"}," Edit Item ",-1);function sl(e,l,t,a,n,o){return P(),j(nt,{modelValue:n.active,"onUpdate:modelValue":l[3]||(l[3]=d=>n.active=d)},{default:I(()=>[i(Ke,null,{default:I(()=>[i(ut,null,{default:I(()=>[rl]),_:1}),i(kt,{class:"d-flex flex-wrap"},{default:I(()=>[(P(!0),R(L,null,be(t.editedItem,(d,s)=>Xe((P(),R("div",{key:s,class:"v-col-4"},[String(s)==="attribute_values"?(P(!0),R(L,{key:0},be(d,u=>(P(),R(L,null,[u.type.type==="text"?(P(),j(we,{key:"input-text-"+u.attribute.name,modelValue:u.attribute.value.value,"onUpdate:modelValue":c=>u.attribute.value.value=c,label:u.attribute.name},null,8,["modelValue","onUpdate:modelValue","label"])):u.type.type==="textArea"?(P(),j(_t,{key:"input-textarea-"+u.attribute.name,modelValue:u.attribute.value.value,"onUpdate:modelValue":c=>u.attribute.value.value=c,label:u.attribute.name},null,8,["modelValue","onUpdate:modelValue","label"])):Ae("",!0),u.type.type==="integer"?(P(),j(_e,{key:"input-select"+u.attribute.name,modelValue:u.value.value,"onUpdate:modelValue":c=>u.value.value=c,modelModifiers:{number:!0},items:u.attribute.name==="Family"?e.options.families:u.attribute.name==="Religion"?e.options.religions:[],label:u.attribute.name,"item-title":"name","item-value":"id"},null,8,["modelValue","onUpdate:modelValue","items","label"])):Ae("",!0)],64))),256)):String(s)=="user_rank"?(P(),j(_e,{key:1,modelValue:t.editedItem.rank,"onUpdate:modelValue":l[0]||(l[0]=u=>t.editedItem.rank=u),items:e.options.ranks,"item-title":"name","item-value":"id"},null,8,["modelValue","items"])):String(s)=="user_type"?(P(),j(_e,{key:2,modelValue:t.editedItem.type,"onUpdate:modelValue":l[1]||(l[1]=u=>t.editedItem.type=u),items:e.options.userTypes,"item-title":"name","item-value":"id"},null,8,["modelValue","items"])):String(s)==="isActive"?(P(),j(et,{key:3,label:"Active",modelValue:t.editedItem.isActive,"onUpdate:modelValue":l[2]||(l[2]=u=>t.editedItem.isActive=u),disabled:""},null,8,["modelValue"])):String(s)=="characters"?(P(),j(Vt,{key:4,class:"full-width"},{activator:I(({props:u})=>[i(J,M({style:{width:"100%",height:"100%"},color:"primary"},u),{default:I(()=>[N(" Characters ")]),_:2},1040)]),default:I(()=>[i(wt,null,{default:I(()=>[(P(!0),R(L,null,be(t.editedItem[s],(u,c)=>(P(),j(Ye,{key:c,value:c},{default:I(()=>[i(ya,null,{default:I(()=>[N(oe(u.name),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1024)):(P(),j(we,{key:5,modelValue:t.editedItem[s],"onUpdate:modelValue":u=>t.editedItem[s]=u,label:String(s)},null,8,["modelValue","onUpdate:modelValue","label"]))])),[[ha,!n.fieldIgnore.find(u=>u===String(s))]])),128))]),_:1}),i(it,null,{default:I(()=>[i(Ee),i(J,{color:"blue-darken-1",variant:"text",onClick:o.close},{default:I(()=>[N(" Cancel ")]),_:1},8,["onClick"]),i(J,{color:"blue-darken-1",variant:"text",onClick:o.close},{default:I(()=>[N(" Save ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const dl=Ge(ol,[["render",sl]]),cl=xt({name:"admin",components:{CreateDialog:ll,DeleteDialog:il,UpdateDialog:dl},data:()=>({dialogDelete:!1,dialogUpdate:!1,editedIndex:null,editedItem:{},dialog:!1,name:null}),mounted(){this.name=this.$route.params.name},methods:{closeDialog(e){switch(e){case"create":this.dialog=!1;break;case"delete":this.dialogDelete=!1;break;case"edit":this.dialogUpdate=!1;break}},editItem(e){this.editedIndex=this.newOptions[this.name].indexOf(e),this.editedItem=Object.assign({},e),this.dialogUpdate=!0},deleteItem(e){this.editedIndex=this.newOptions[this.name].indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0}},computed:{...at(lt,["options","optionLoading"]),newOptions(){return JSON.parse(JSON.stringify(this.options))},headers(){const e=[];if(this.options[this.$route.params.name]!==void 0&&this.options[this.$route.params.name].length>0){let l=this.options[this.$route.params.name][0];for(const t in l)t==="attribute_values"?l[t].forEach(a=>{e.push({title:a.attribute.name,align:"left",sortable:!0,type:"text",key:a.attribute.name})}):t==="user_type"?e.push({title:t,align:"left",sortable:!0,type:"text"}):e.push({title:t,align:"start",sortable:!1,key:t});e.push({title:"Actions",align:"",sortable:!1,value:"actions"})}return e}}});const fl=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Ot=E({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function vl(e,l,t){var s;const a=[],n=(t==null?void 0:t.default)??fl,o=t!=null&&t.filterKeys?Ve(t.filterKeys):!1,d=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let u=0;u<e.length;u++){const[c,v=c]=Ve(e[u]),f={},r={};let m=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof c=="object"){const p=o||Object.keys(v);for(const y of p){const T=Fe(v,y,v),O=(s=t==null?void 0:t.customKeyFilter)==null?void 0:s[y];if(m=O?O(T,l,c):n(T,l,c),m!==-1&&m!==!1)O?f[y]=m:r[y]=m;else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=n(c,l,c),m!==-1&&m!==!1&&(r.title=m);const S=Object.keys(r).length,b=Object.keys(f).length;if(!S&&!b||(t==null?void 0:t.filterMode)==="union"&&b!==d&&!S||(t==null?void 0:t.filterMode)==="intersection"&&(b!==d||!S))continue}a.push({index:u,matches:{...r,...f}})}return a}function Bt(e,l,t,a){const n=q([]),o=q(new Map),d=C(()=>a!=null&&a.transform?Te(l).map(u=>[u,a.transform(u)]):Te(l));He(()=>{const u=typeof t=="function"?t():Te(t),c=typeof u!="string"&&typeof u!="number"?"":String(u),v=vl(d.value,c,{customKeyFilter:{...e.customKeyFilter,...Te(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),f=Te(l),r=[],m=new Map;v.forEach(S=>{let{index:b,matches:p}=S;const y=f[b];r.push(y),m.set(y.value,p)}),n.value=r,o.value=m});function s(u){return o.value.get(u.value)}return{filteredItems:n,filteredMatches:o,getMatches:s}}function ml(e,l,t){if(l==null)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return typeof l=="number"&&~l?i(L,null,[i("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),i("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),i("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const gl=E({autoSelectFirst:{type:[Boolean,String]},search:String,...Ot({filterKeys:["title"]}),...Ja(),...ba(pa({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...xa({transition:!1})},"VAutocomplete"),hl=le()({name:"VAutocomplete",props:gl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:a}=Be(),n=q(),o=he(!1),d=he(!0),s=he(!1),u=q(),c=q(),v=ee(e,"menu"),f=C({get:()=>v.value,set:g=>{var F;v.value&&!g&&((F=u.value)!=null&&F.ΨopenChildren)||(v.value=g)}}),r=he(-1),m=C(()=>{var g;return(g=n.value)==null?void 0:g.color}),S=C(()=>f.value?e.closeText:e.openText),{items:b,transformIn:p,transformOut:y}=Sa(e),{textColorClasses:T,textColorStyles:O}=ka(m),h=ee(e,"search",""),V=ee(e,"modelValue",[],g=>p(g===null?[null]:Ve(g)),g=>{const F=y(g);return e.multiple?F:F[0]??null}),H=C(()=>typeof e.counterValue=="function"?e.counterValue(V.value):typeof e.counterValue=="number"?e.counterValue:V.value.length),G=Va(),{filteredItems:x,getMatches:D}=Bt(e,b,()=>d.value?"":h.value),k=C(()=>e.hideSelected?x.value.filter(g=>!V.value.some(F=>F.value===g.value)):x.value),w=C(()=>V.value.map(g=>g.props.value)),A=C(()=>{var F;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&h.value===((F=k.value[0])==null?void 0:F.title))&&k.value.length>0&&!d.value&&!s.value}),B=C(()=>e.hideNoData&&!b.value.length||e.readonly||(G==null?void 0:G.isReadonly.value)),K=q(),{onListScroll:te,onListKeydown:fe}=Qa(K,n);function ve(g){e.openOnClear&&(f.value=!0),h.value=""}function X(){B.value||(f.value=!0)}function de(g){B.value||(o.value&&(g.preventDefault(),g.stopPropagation()),f.value=!f.value)}function pe(g){var ie,_,z;if(e.readonly||G!=null&&G.isReadonly.value)return;const F=n.value.selectionStart,$=V.value.length;if((r.value>-1||["Enter","ArrowDown","ArrowUp"].includes(g.key))&&g.preventDefault(),["Enter","ArrowDown"].includes(g.key)&&(f.value=!0),["Escape"].includes(g.key)&&(f.value=!1),A.value&&["Enter","Tab"].includes(g.key)&&ue(k.value[0]),g.key==="ArrowDown"&&A.value&&((ie=K.value)==null||ie.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(g.key)){if(r.value<0){g.key==="Backspace"&&!h.value&&(r.value=$-1);return}const U=r.value,Z=V.value[r.value];Z&&!Z.props.disabled&&ue(Z),r.value=U>=$-1?$-2:U}if(g.key==="ArrowLeft"){if(r.value<0&&F>0)return;const U=r.value>-1?r.value-1:$-1;V.value[U]?r.value=U:(r.value=-1,n.value.setSelectionRange((_=h.value)==null?void 0:_.length,(z=h.value)==null?void 0:z.length))}if(g.key==="ArrowRight"){if(r.value<0)return;const U=r.value+1;V.value[U]?r.value=U:(r.value=-1,n.value.setSelectionRange(0,0))}}}function xe(g){h.value=g.target.value}function Ce(g){if(ft(n.value,":autofill")||ft(n.value,":-webkit-autofill")){const F=b.value.find($=>$.title===g.target.value);F&&ue(F)}}function De(){var g;o.value&&(d.value=!0,(g=n.value)==null||g.focus())}function Q(g){o.value=!0,setTimeout(()=>{s.value=!0})}function ae(g){s.value=!1}function Se(g){(g==null||g===""&&!e.multiple)&&(V.value=[])}const ne=he(!1);function ue(g){if(e.multiple){const F=V.value.findIndex($=>e.valueComparator($.value,g.value));if(F===-1)V.value=[...V.value,g];else{const $=[...V.value];$.splice(F,1),V.value=$}}else V.value=[g],ne.value=!0,h.value=g.title,f.value=!1,d.value=!0,ye(()=>ne.value=!1)}return re(o,(g,F)=>{var $;g!==F&&(g?(ne.value=!0,h.value=e.multiple?"":String((($=V.value.at(-1))==null?void 0:$.props.title)??""),d.value=!0,ye(()=>ne.value=!1)):(!e.multiple&&!h.value?V.value=[]:A.value&&!s.value&&!V.value.some(ie=>{let{value:_}=ie;return _===k.value[0].value})&&ue(k.value[0]),f.value=!1,h.value="",r.value=-1))}),re(h,g=>{!o.value||ne.value||(g&&(f.value=!0),d.value=!g)}),re(f,()=>{if(!e.hideSelected&&f.value&&V.value.length){const g=k.value.findIndex(F=>V.value.some($=>F.value===$.value));wa&&window.requestAnimationFrame(()=>{var F;g>=0&&((F=c.value)==null||F.scrollToIndex(g))})}}),se(()=>{const g=!!(e.chips||t.chip),F=!!(!e.hideNoData||k.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),$=V.value.length>0,ie=we.filterProps(e);return i(we,M({ref:n},ie,{modelValue:h.value,"onUpdate:modelValue":Se,focused:o.value,"onUpdate:focused":_=>o.value=_,validationValue:V.externalValue,counterValue:H.value,dirty:$,onInput:xe,onChange:Ce,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":f.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!t.selection,"v-autocomplete--selecting-index":r.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:$?void 0:e.placeholder,"onClick:clear":ve,"onMousedown:control":X,onKeydown:pe}),{...t,default:()=>i(L,null,[i(Vt,M({ref:u,modelValue:f.value,"onUpdate:modelValue":_=>f.value=_,activator:"parent",contentClass:"v-autocomplete__content",disabled:B.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:De},e.menuProps),{default:()=>[F&&i(wt,{ref:K,selected:w.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:_=>_.preventDefault(),onKeydown:fe,onFocusin:Q,onFocusout:ae,onScrollPassive:te,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var _,z,U;return[(_=t["prepend-item"])==null?void 0:_.call(t),!k.value.length&&!e.hideNoData&&(((z=t["no-data"])==null?void 0:z.call(t))??i(Ye,{title:a(e.noDataText)},null)),i(Xa,{ref:c,renderless:!0,items:k.value},{default:Z=>{var dt;let{item:Y,index:me,itemRef:ge}=Z;const st=M(Y.props,{ref:ge,key:me,active:A.value&&me===0?!0:void 0,onClick:()=>ue(Y)});return((dt=t.item)==null?void 0:dt.call(t,{item:Y,index:me,props:st}))??i(Ye,st,{prepend:Le=>{let{isSelected:$e}=Le;return i(L,null,[e.multiple&&!e.hideSelected?i(ze,{key:Y.value,modelValue:$e,ripple:!1,tabindex:"-1"},null):void 0,Y.props.prependIcon&&i(Oe,{icon:Y.props.prependIcon},null)])},title:()=>{var Le,$e;return d.value?Y.title:ml(Y.title,(Le=D(Y))==null?void 0:Le.title,(($e=h.value)==null?void 0:$e.length)??0)}})}}),(U=t["append-item"])==null?void 0:U.call(t)]}})]}),V.value.map((_,z)=>{function U(ge){ge.stopPropagation(),ge.preventDefault(),ue(_)}const Z={"onClick:close":U,onMousedown(ge){ge.preventDefault(),ge.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Y=g?!!t.chip:!!t.selection,me=Y?Pa(g?t.chip({item:_,index:z,props:Z}):t.selection({item:_,index:z})):void 0;if(!(Y&&!me))return i("div",{key:_.value,class:["v-autocomplete__selection",z===r.value&&["v-autocomplete__selection--selected",T.value]],style:z===r.value?O.value:{}},[g?t.chip?i(Ia,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:_.title}}},{default:()=>[me]}):i(Ya,M({key:"chip",closable:e.closableChips,size:"small",text:_.title,disabled:_.props.disabled},Z),null):me??i("span",{class:"v-autocomplete__selection-text"},[_.title,e.multiple&&z<V.value.length-1&&i("span",{class:"v-autocomplete__selection-comma"},[N(",")])])])})]),"append-inner":function(){var Z;for(var _=arguments.length,z=new Array(_),U=0;U<_;U++)z[U]=arguments[U];return i(L,null,[(Z=t["append-inner"])==null?void 0:Z.call(t,...z),e.menuIcon?i(Oe,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:de,onClick:Ca,"aria-label":a(S.value),title:a(S.value)},null):void 0])}})}),St({isFocused:o,isPristine:d,menu:f,search:h,filteredItems:x,select:ue},n)}});function yl(){const e=q([]);Da(()=>e.value=[]);function l(t,a){e.value[a]=t}return{refs:e,updateRef:l}}const bl=E({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:ke,default:"$first"},prevIcon:{type:ke,default:"$prev"},nextIcon:{type:ke,default:"$next"},lastIcon:{type:ke,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ta(),...Pt(),...It(),...Fa(),...Aa(),..._a(),...Ct({tag:"nav"}),...Dt(),...Oa({variant:"text"})},"VPagination"),pl=le()({name:"VPagination",props:bl(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,l){let{slots:t,emit:a}=l;const n=ee(e,"modelValue"),{t:o,n:d}=Be(),{isRtl:s}=Ba(),{themeClasses:u}=Tt(e),{width:c}=La(),v=he(-1);Ze(void 0,{scoped:!0});const{resizeRef:f}=$a(x=>{if(!x.length)return;const{target:D,contentRect:k}=x[0],w=D.querySelector(".v-pagination__list > *");if(!w)return;const A=k.width,B=w.offsetWidth+parseFloat(getComputedStyle(w).marginRight)*2;v.value=b(A,B)}),r=C(()=>parseInt(e.length,10)),m=C(()=>parseInt(e.start,10)),S=C(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):v.value>=0?v.value:b(c.value,58));function b(x,D){const k=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((x-D*k)/D).toFixed(2)))}const p=C(()=>{if(r.value<=0||isNaN(r.value)||r.value>Number.MAX_SAFE_INTEGER)return[];if(S.value<=0)return[];if(S.value===1)return[n.value];if(r.value<=S.value)return Re(r.value,m.value);const x=S.value%2===0,D=x?S.value/2:Math.floor(S.value/2),k=x?D:D+1,w=r.value-D;if(k-n.value>=0)return[...Re(Math.max(1,S.value-1),m.value),e.ellipsis,r.value];if(n.value-w>=(x?1:0)){const A=S.value-1,B=r.value-A+m.value;return[m.value,e.ellipsis,...Re(A,B)]}else{const A=Math.max(1,S.value-3),B=A===1?n.value:n.value-Math.ceil(A/2)+m.value;return[m.value,e.ellipsis,...Re(A,B),e.ellipsis,r.value]}});function y(x,D,k){x.preventDefault(),n.value=D,k&&a(k,D)}const{refs:T,updateRef:O}=yl();Ze({VPaginationBtn:{color:W(e,"color"),border:W(e,"border"),density:W(e,"density"),size:W(e,"size"),variant:W(e,"variant"),rounded:W(e,"rounded"),elevation:W(e,"elevation")}});const h=C(()=>p.value.map((x,D)=>{const k=w=>O(w,D);if(typeof x=="string")return{isActive:!1,key:`ellipsis-${D}`,page:x,props:{ref:k,ellipsis:!0,icon:!0,disabled:!0}};{const w=x===n.value;return{isActive:w,key:x,page:d(x),props:{ref:k,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:w?e.activeColor:e.color,ariaCurrent:w,ariaLabel:o(w?e.currentPageAriaLabel:e.pageAriaLabel,x),onClick:A=>y(A,x)}}}})),V=C(()=>{const x=!!e.disabled||n.value<=m.value,D=!!e.disabled||n.value>=m.value+r.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:k=>y(k,m.value,"first"),disabled:x,ariaLabel:o(e.firstAriaLabel),ariaDisabled:x}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:k=>y(k,n.value-1,"prev"),disabled:x,ariaLabel:o(e.previousAriaLabel),ariaDisabled:x},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:k=>y(k,n.value+1,"next"),disabled:D,ariaLabel:o(e.nextAriaLabel),ariaDisabled:D},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:k=>y(k,m.value+r.value-1,"last"),disabled:D,ariaLabel:o(e.lastAriaLabel),ariaDisabled:D}:void 0}});function H(){var D;const x=n.value-m.value;(D=T.value[x])==null||D.$el.focus()}function G(x){x.key===vt.left&&!e.disabled&&n.value>+e.start?(n.value=n.value-1,ye(H)):x.key===vt.right&&!e.disabled&&n.value<m.value+r.value-1&&(n.value=n.value+1,ye(H))}return se(()=>i(e.tag,{ref:f,class:["v-pagination",u.value,e.class],style:e.style,role:"navigation","aria-label":o(e.ariaLabel),onKeydown:G,"data-test":"v-pagination-root"},{default:()=>[i("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&i("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(V.value.first):i(J,M({_as:"VPaginationBtn"},V.value.first),null)]),i("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(V.value.prev):i(J,M({_as:"VPaginationBtn"},V.value.prev),null)]),h.value.map((x,D)=>i("li",{key:x.key,class:["v-pagination__item",{"v-pagination__item--is-active":x.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(x):i(J,M({_as:"VPaginationBtn"},x.props),{default:()=>[x.page]})])),i("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(V.value.next):i(J,M({_as:"VPaginationBtn"},V.value.next),null)]),e.showFirstLastPage&&i("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(V.value.last):i(J,M({_as:"VPaginationBtn"},V.value.last),null)])])]})),{}}}),xl=E({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Lt=Symbol.for("vuetify:data-table-pagination");function Sl(e){const l=ee(e,"page",void 0,a=>+(a??1)),t=ee(e,"itemsPerPage",void 0,a=>+(a??10));return{page:l,itemsPerPage:t}}function kl(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=C(()=>t.value===-1?0:t.value*(l.value-1)),o=C(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),d=C(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));He(()=>{l.value>d.value&&(l.value=d.value)});function s(r){t.value=r,l.value=1}function u(){l.value=Ne(l.value+1,1,d.value)}function c(){l.value=Ne(l.value-1,1,d.value)}function v(r){l.value=Ne(r,1,d.value)}const f={page:l,itemsPerPage:t,startIndex:n,stopIndex:o,pageCount:d,itemsLength:a,nextPage:u,prevPage:c,setPage:v,setItemsPerPage:s};return Pe(Lt,f),f}function Vl(){const e=Ie(Lt);if(!e)throw new Error("Missing pagination!");return e}function wl(e){const{items:l,startIndex:t,stopIndex:a,itemsPerPage:n}=e;return{paginatedItems:C(()=>n.value<=0?l.value:l.value.slice(t.value,a.value))}}const $t=E({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ht=le()({name:"VDataTableFooter",props:$t(),setup(e,l){let{slots:t}=l;const{t:a}=Be(),{page:n,pageCount:o,startIndex:d,stopIndex:s,itemsLength:u,itemsPerPage:c,setItemsPerPage:v}=Vl(),f=C(()=>e.itemsPerPageOptions.map(r=>typeof r=="number"?{value:r,title:r===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(r)}:{...r,title:a(r.title)}));return se(()=>{var r;return i("div",{class:"v-data-table-footer"},[(r=t.prepend)==null?void 0:r.call(t),i("div",{class:"v-data-table-footer__items-per-page"},[i("span",null,[a(e.itemsPerPageText)]),i(_e,{items:f.value,modelValue:c.value,"onUpdate:modelValue":m=>v(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),i("div",{class:"v-data-table-footer__info"},[i("div",null,[a(e.pageText,u.value?d.value+1:0,s.value,u.value)])]),i("div",{class:"v-data-table-footer__pagination"},[i(pl,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:o.value,"next-aria-label":e.nextPageLabel,"prev-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},null)])])}),{}}}),ot=Ra({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:t}=l;const a=e.tag??"td";return i(a,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:ce(e.height),width:ce(e.width),left:ce(e.fixedOffset||null)}},{default:()=>{var n;return[(n=t.default)==null?void 0:n.call(t)]}})}),Pl=E({headers:Array},"DataTable-header"),Rt=Symbol.for("vuetify:data-table-headers"),Mt={title:"",sortable:!1},Il={...Mt,width:48};function Cl(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(t=>({element:t,priority:0}));return{enqueue:(t,a)=>{let n=!1;for(let o=0;o<l.length;o++)if(l[o].priority>a){l.splice(o,0,{element:t,priority:a}),n=!0;break}n||l.push({element:t,priority:a})},size:()=>l.length,count:()=>{let t=0;if(!l.length)return 0;const a=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===a&&(t+=1);return t},dequeue:()=>l.shift()}}function tt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const t of e.children)tt(t,l);return l}function Nt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const t of e)t.key&&l.add(t.key),t.children&&Nt(t.children,l);return l}function Dl(e){if(e.key){if(e.key==="data-table-group")return Mt;if(["data-table-expand","data-table-select"].includes(e.key))return Il}}function rt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(t=>rt(t,l+1))):l}function Tl(e){let l=!1;function t(o){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o)if(d&&(o.fixed=!0),o.fixed)if(o.children)for(let s=o.children.length-1;s>=0;s--)t(o.children[s],!0);else l?isNaN(+o.width)&&Na(`Multiple fixed columns should have a static width (key: ${o.key})`):o.lastFixed=!0,l=!0;else if(o.children)for(let s=o.children.length-1;s>=0;s--)t(o.children[s]);else l=!1}for(let o=e.length-1;o>=0;o--)t(e[o]);function a(o){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!o)return d;if(o.children){o.fixedOffset=d;for(const s of o.children)d=a(s,d)}else o.fixed&&(o.fixedOffset=d,d+=parseFloat(o.width||"0")||0);return d}let n=0;for(const o of e)n=a(o,n)}function Fl(e,l){const t=[];let a=0;const n=Cl(e);for(;n.size()>0;){let d=n.count();const s=[];let u=1;for(;d>0;){const{element:c,priority:v}=n.dequeue(),f=l-a-rt(c);if(s.push({...c,rowspan:f??1,colspan:c.children?tt(c).length:1}),c.children)for(const r of c.children){const m=v%1+u/Math.pow(10,a+2);n.enqueue(r,a+f+m)}u+=1,d-=1}a+=1,t.push(s)}return{columns:e.map(d=>tt(d)).flat(),headers:t}}function Et(e){const l=[];for(const t of e){const a={...Dl(t),...t},n=a.key??(typeof a.value=="string"?a.value:null),o=a.value??n??null,d={...a,key:n,value:o,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?Et(a.children):void 0};l.push(d)}return l}function Al(e,l){const t=q([]),a=q([]),n=q(),o=q();He(()=>{var S,b,p;const u=(e.headers||Object.keys(e.items[0]??{}).map(y=>({key:y,title:Ma(y)}))).slice(),c=Nt(u);(S=l==null?void 0:l.groupBy)!=null&&S.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(b=l==null?void 0:l.showSelect)!=null&&b.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(p=l==null?void 0:l.showExpand)!=null&&p.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const v=Et(u);Tl(v);const f=Math.max(...v.map(y=>rt(y)))+1,r=Fl(v,f);t.value=r.headers,a.value=r.columns;const m=r.headers.flat(1);n.value=m.reduce((y,T)=>(T.sortable&&T.key&&T.sort&&(y[T.key]=T.sort),y),{}),o.value=m.reduce((y,T)=>(T.key&&T.filter&&(y[T.key]=T.filter),y),{})});const d={headers:t,columns:a,sortFunctions:n,filterFunctions:o};return Pe(Rt,d),d}function We(){const e=Ie(Rt);if(!e)throw new Error("Missing headers!");return e}const _l={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:l,value:t}=e;return new Set(t?[(a=l[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Ut={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,currentPage:t,selected:a}=e;return Ut.select({items:t,value:l,selected:a})}},jt={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,allItems:t,selected:a}=e;return jt.select({items:t,value:l,selected:a})}},Ol=E({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ft}},"DataTable-select"),Ht=Symbol.for("vuetify:data-table-selection");function Bl(e,l){let{allItems:t,currentPage:a}=l;const n=ee(e,"modelValue",e.modelValue,p=>new Set(Ve(p).map(y=>{var T;return((T=t.value.find(O=>e.valueComparator(y,O.value)))==null?void 0:T.value)??y})),p=>[...p.values()]),o=C(()=>t.value.filter(p=>p.selectable)),d=C(()=>a.value.filter(p=>p.selectable)),s=C(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return _l;case"all":return jt;case"page":default:return Ut}});function u(p){return Ve(p).every(y=>n.value.has(y.value))}function c(p){return Ve(p).some(y=>n.value.has(y.value))}function v(p,y){const T=s.value.select({items:p,value:y,selected:new Set(n.value)});n.value=T}function f(p){v([p],!u([p]))}function r(p){const y=s.value.selectAll({value:p,allItems:o.value,currentPage:d.value,selected:new Set(n.value)});n.value=y}const m=C(()=>n.value.size>0),S=C(()=>{const p=s.value.allSelected({allItems:o.value,currentPage:d.value});return!!p.length&&u(p)}),b={toggleSelect:f,select:v,selectAll:r,isSelected:u,isSomeSelected:c,someSelected:m,allSelected:S,showSelectAll:s.value.showSelectAll};return Pe(Ht,b),b}function qe(){const e=Ie(Ht);if(!e)throw new Error("Missing selection!");return e}const Ll=E({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Gt=Symbol.for("vuetify:data-table-sort");function $l(e){const l=ee(e,"sortBy"),t=W(e,"mustSort"),a=W(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function Rl(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,o=u=>{if(u.key==null)return;let c=l.value.map(f=>({...f}))??[];const v=c.find(f=>f.key===u.key);v?v.order==="desc"?t.value?v.order="asc":c=c.filter(f=>f.key!==u.key):v.order="desc":a.value?c=[...c,{key:u.key,order:"asc"}]:c=[{key:u.key,order:"asc"}],l.value=c,n&&(n.value=1)};function d(u){return!!l.value.find(c=>c.key===u.key)}const s={sortBy:l,toggleSort:o,isSorted:d};return Pe(Gt,s),s}function Ml(){const e=Ie(Gt);if(!e)throw new Error("Missing sort!");return e}function Nl(e,l,t,a){const n=Be();return{sortedItems:C(()=>t.value.length?El(l.value,t.value,n.current.value,{...e.customKeySort,...a==null?void 0:a.value}):l.value)}}function El(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,d)=>{for(let s=0;s<l.length;s++){const u=l[s].key,c=l[s].order??"asc";if(c===!1)continue;let v=je(o.raw,u),f=je(d.raw,u);if(c==="desc"&&([v,f]=[f,v]),a!=null&&a[u]){const r=a[u](v,f);if(!r)continue;return r}if(v instanceof Date&&f instanceof Date)return v.getTime()-f.getTime();if([v,f]=[v,f].map(r=>r!=null?r.toString().toLocaleLowerCase():r),v!==f)return Me(v)&&Me(f)?0:Me(v)?-1:Me(f)?1:!isNaN(v)&&!isNaN(f)?Number(v)-Number(f):n.compare(v,f)}return 0})}const Kt=E({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:ke,default:"$sortAsc"},sortDescIcon:{type:ke,default:"$sortDesc"},...Ea()},"VDataTableHeaders"),yt=le()({name:"VDataTableHeaders",props:Kt(),setup(e,l){let{slots:t}=l;const{toggleSort:a,sortBy:n,isSorted:o}=Ml(),{someSelected:d,allSelected:s,selectAll:u,showSelectAll:c}=qe(),{columns:v,headers:f}=We(),{loaderClasses:r}=Ua(e);function m(O,h){if(!(!e.sticky&&!O.fixed))return{position:"sticky",left:O.fixed?ce(O.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${h})`:void 0}}function S(O){const h=n.value.find(V=>V.key===O.key);return h?h.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:p}=ja(e,"color"),y=C(()=>({headers:f.value,columns:v.value,toggleSort:a,isSorted:o,sortBy:n.value,someSelected:d.value,allSelected:s.value,selectAll:u,getSortIcon:S})),T=O=>{let{column:h,x:V,y:H}=O;const G=h.key==="data-table-select"||h.key==="data-table-expand";return i(ot,M({tag:"th",align:h.align,class:["v-data-table__th",{"v-data-table__th--sortable":h.sortable,"v-data-table__th--sorted":o(h),"v-data-table__th--fixed":h.fixed},r.value],style:{width:ce(h.width),minWidth:ce(h.minWidth),...m(h,H)},colspan:h.colspan,rowspan:h.rowspan,onClick:h.sortable?()=>a(h):void 0,fixed:h.fixed,lastFixed:h.lastFixed,noPadding:G},h.headerProps),{default:()=>{var k;const x=`header.${h.key}`,D={column:h,selectAll:u,isSorted:o,toggleSort:a,sortBy:n.value,someSelected:d.value,allSelected:s.value,getSortIcon:S};return t[x]?t[x](D):h.key==="data-table-select"?((k=t["header.data-table-select"])==null?void 0:k.call(t,D))??(c&&i(ze,{modelValue:s.value,indeterminate:d.value&&!s.value,"onUpdate:modelValue":u},null)):i("div",{class:"v-data-table-header__content"},[i("span",null,[h.title]),h.sortable&&i(Oe,{key:"icon",class:"v-data-table-header__sort-icon",icon:S(h)},null),e.multiSort&&o(h)&&i("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:p.value},[n.value.findIndex(w=>w.key===h.key)+1])])}})};se(()=>i(L,null,[t.headers?t.headers(y.value):f.value.map((O,h)=>i("tr",null,[O.map((V,H)=>i(T,{column:V,x:H,y:h},null))])),e.loading&&i("tr",{class:"v-data-table-progress"},[i("th",{colspan:v.value.length},[i(Ha,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),Ul=E({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),zt=Symbol.for("vuetify:data-table-group");function jl(e){return{groupBy:ee(e,"groupBy")}}function Hl(e){const{groupBy:l,sortBy:t}=e,a=q(new Set),n=C(()=>l.value.map(c=>({...c,order:c.order??!1})).concat(t.value));function o(c){return a.value.has(c.id)}function d(c){const v=new Set(a.value);o(c)?v.delete(c.id):v.add(c.id),a.value=v}function s(c){function v(f){const r=[];for(const m of f.items)"type"in m&&m.type==="group"?r.push(...v(m)):r.push(m);return r}return v({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:n,toggleGroup:d,opened:a,groupBy:l,extractRows:s,isGroupOpen:o};return Pe(zt,u),u}function Wt(){const e=Ie(zt);if(!e)throw new Error("Missing group!");return e}function Gl(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=je(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function qt(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=Gl(e,l[0]),o=[],d=l.slice(1);return n.forEach((s,u)=>{const c=l[0],v=`${a}_${c}_${u}`;o.push({depth:t,id:v,key:c,value:u,items:d.length?qt(s,d,t+1,v):s,type:"group"})}),o}function Jt(e,l){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...Jt(a.items,l))):t.push(a);return t}function Kl(e,l,t){return{flatItems:C(()=>{if(!l.value.length)return e.value;const n=qt(e.value,l.value.map(o=>o.key));return Jt(n,t.value)})}}const zl=E({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Wl=le()({name:"VDataTableGroupHeaderRow",props:zl(),setup(e,l){let{slots:t}=l;const{isGroupOpen:a,toggleGroup:n,extractRows:o}=Wt(),{isSelected:d,isSomeSelected:s,select:u}=qe(),{columns:c}=We(),v=C(()=>o([e.item]));return()=>i("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(f=>{var r,m;if(f.key==="data-table-group"){const S=a(e.item)?"$expand":"$next",b=()=>n(e.item);return((r=t["data-table-group"])==null?void 0:r.call(t,{item:e.item,count:v.value.length,props:{icon:S,onClick:b}}))??i(ot,{class:"v-data-table-group-header-row__column"},{default:()=>[i(J,{size:"small",variant:"text",icon:S,onClick:b},null),i("span",null,[e.item.value]),i("span",null,[N("("),v.value.length,N(")")])]})}if(f.key==="data-table-select"){const S=d(v.value),b=s(v.value)&&!S,p=y=>u(v.value,y);return((m=t["data-table-select"])==null?void 0:m.call(t,{props:{modelValue:S,indeterminate:b,"onUpdate:modelValue":p}}))??i("td",null,[i(ze,{modelValue:S,indeterminate:b,"onUpdate:modelValue":p},null)])}return i("td",null,null)})])}}),ql=E({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Qt=Symbol.for("vuetify:datatable:expanded");function Jl(e){const l=W(e,"expandOnClick"),t=ee(e,"expanded",e.expanded,s=>new Set(s),s=>[...s.values()]);function a(s,u){const c=new Set(t.value);u?c.add(s.value):c.delete(s.value),t.value=c}function n(s){return t.value.has(s.value)}function o(s){a(s,!n(s))}const d={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:o};return Pe(Qt,d),d}function Xt(){const e=Ie(Qt);if(!e)throw new Error("foo");return e}const Ql=E({index:Number,item:Object,cellProps:[Object,Function],onClick:Je(),onContextmenu:Je(),onDblclick:Je()},"VDataTableRow"),Xl=le()({name:"VDataTableRow",props:Ql(),setup(e,l){let{slots:t}=l;const{isSelected:a,toggleSelect:n}=qe(),{isExpanded:o,toggleExpand:d}=Xt(),{columns:s}=We();se(()=>i("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)}],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&s.value.map((u,c)=>{const v=e.item,f=`item.${u.key}`,r={index:e.index,item:v.raw,internalItem:v,value:je(v.columns,u.key),column:u,isSelected:a,toggleSelect:n,isExpanded:o,toggleExpand:d},m=typeof e.cellProps=="function"?e.cellProps({index:r.index,item:r.item,internalItem:r.internalItem,value:r.value,column:u}):e.cellProps,S=typeof u.cellProps=="function"?u.cellProps({index:r.index,item:r.item,internalItem:r.internalItem,value:r.value}):u.cellProps;return i(ot,M({align:u.align,fixed:u.fixed,fixedOffset:u.fixedOffset,lastFixed:u.lastFixed,noPadding:u.key==="data-table-select"||u.key==="data-table-expand",width:u.width},m,S),{default:()=>{var b,p;return t[f]?t[f](r):u.key==="data-table-select"?((b=t["item.data-table-select"])==null?void 0:b.call(t,r))??i(ze,{disabled:!v.selectable,modelValue:a([v]),onClick:mt(()=>n(v),["stop"])},null):u.key==="data-table-expand"?((p=t["item.data-table-expand"])==null?void 0:p.call(t,r))??i(J,{icon:o(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:mt(()=>d(v),["stop"])},null):oe(r.value)}})})]))}}),Yt=E({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),bt=le()({name:"VDataTableRows",inheritAttrs:!1,props:Yt(),setup(e,l){let{attrs:t,slots:a}=l;const{columns:n}=We(),{expandOnClick:o,toggleExpand:d,isExpanded:s}=Xt(),{isSelected:u,toggleSelect:c}=qe(),{toggleGroup:v,isGroupOpen:f}=Wt(),{t:r}=Be();return se(()=>{var m,S;return e.loading?i("tr",{class:"v-data-table-rows-loading",key:"loading"},[i("td",{colspan:n.value.length},[((m=a.loading)==null?void 0:m.call(a))??r(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?i("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[i("td",{colspan:n.value.length},[((S=a["no-data"])==null?void 0:S.call(a))??r(e.noDataText)])]):i(L,null,[e.items.map((b,p)=>{var O;if(b.type==="group"){const h={index:p,item:b,columns:n.value,isExpanded:s,toggleExpand:d,isSelected:u,toggleSelect:c,toggleGroup:v,isGroupOpen:f};return a["group-header"]?a["group-header"](h):i(Wl,M({key:`group-header_${b.id}`,item:b},gt(t,":group-header",()=>h)),a)}const y={index:p,item:b.raw,internalItem:b,columns:n.value,isExpanded:s,toggleExpand:d,isSelected:u,toggleSelect:c},T={...y,props:M({key:`item_${b.key??b.index}`,onClick:o.value?()=>{d(b)}:void 0,index:p,item:b,cellProps:e.cellProps},gt(t,":row",()=>y),typeof e.rowProps=="function"?e.rowProps({item:y.item,index:y.index,internalItem:y.internalItem}):e.rowProps)};return i(L,{key:T.props.key},[a.item?a.item(T):i(Xl,T.props,a),s(b)&&((O=a["expanded-row"])==null?void 0:O.call(a,y))])})])}),{}}});const Zt=E({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Pt(),...It(),...Ct(),...Dt()},"VTable"),pt=le()({name:"VTable",props:Zt(),setup(e,l){let{slots:t,emit:a}=l;const{themeClasses:n}=Tt(e),{densityClasses:o}=Ga(e);return se(()=>i(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},n.value,o.value,e.class],style:e.style},{default:()=>{var d,s,u;return[(d=t.top)==null?void 0:d.call(t),t.default?i("div",{class:"v-table__wrapper",style:{height:ce(e.height)}},[i("table",null,[t.default()])]):(s=t.wrapper)==null?void 0:s.call(t),(u=t.bottom)==null?void 0:u.call(t)]}})),{}}}),Yl=E({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Zl(e,l,t,a){const n=e.returnObject?l:Fe(l,e.itemValue),o=Fe(l,e.itemSelectable,!0),d=a.reduce((s,u)=>(u.key!=null&&(s[u.key]=Fe(l,u.value)),s),{});return{type:"item",key:e.returnObject?Fe(l,e.itemValue):n,index:t,value:n,selectable:o,columns:d,raw:l}}function en(e,l,t){return l.map((a,n)=>Zl(e,a,n,t))}function tn(e,l){return{items:C(()=>en(e,e.items,l.value))}}function an(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:o}=e;const d=Ka("VDataTable"),s=C(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:o.value}));let u=null;re(s,()=>{Ft(u,s.value)||((u==null?void 0:u.search)!==s.value.search&&(l.value=1),d.emit("update:options",s.value),u=s.value)},{deep:!0,immediate:!0})}const ln=E({...Yt(),width:[String,Number],search:String,...ql(),...Ul(),...Pl(),...Yl(),...Ol(),...Ll(),...Kt(),...Zt()},"DataTable"),nn=E({...xl(),...ln(),...Ot(),...$t()},"VDataTable"),un=le()({name:"VDataTable",props:nn(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{attrs:t,slots:a}=l;const{groupBy:n}=jl(e),{sortBy:o,multiSort:d,mustSort:s}=$l(e),{page:u,itemsPerPage:c}=Sl(e),{columns:v,headers:f,sortFunctions:r,filterFunctions:m}=Al(e,{groupBy:n,showSelect:W(e,"showSelect"),showExpand:W(e,"showExpand")}),{items:S}=tn(e,v),b=W(e,"search"),{filteredItems:p}=Bt(e,S,b,{transform:ae=>ae.columns,customKeyFilter:m}),{toggleSort:y}=Rl({sortBy:o,multiSort:d,mustSort:s,page:u}),{sortByWithGroups:T,opened:O,extractRows:h,isGroupOpen:V,toggleGroup:H}=Hl({groupBy:n,sortBy:o}),{sortedItems:G}=Nl(e,p,T,r),{flatItems:x}=Kl(G,n,O),D=C(()=>x.value.length),{startIndex:k,stopIndex:w,pageCount:A,setItemsPerPage:B}=kl({page:u,itemsPerPage:c,itemsLength:D}),{paginatedItems:K}=wl({items:x,startIndex:k,stopIndex:w,itemsPerPage:c}),te=C(()=>h(K.value)),{isSelected:fe,select:ve,selectAll:X,toggleSelect:de,someSelected:pe,allSelected:xe}=Bl(e,{allItems:S,currentPage:te}),{isExpanded:Ce,toggleExpand:De}=Jl(e);an({page:u,itemsPerPage:c,sortBy:o,groupBy:n,search:b}),Ze({VDataTableRows:{hideNoData:W(e,"hideNoData"),noDataText:W(e,"noDataText"),loading:W(e,"loading"),loadingText:W(e,"loadingText")}});const Q=C(()=>({page:u.value,itemsPerPage:c.value,sortBy:o.value,pageCount:A.value,toggleSort:y,setItemsPerPage:B,someSelected:pe.value,allSelected:xe.value,isSelected:fe,select:ve,selectAll:X,toggleSelect:de,isExpanded:Ce,toggleExpand:De,isGroupOpen:V,toggleGroup:H,items:te.value.map(ae=>ae.raw),internalItems:te.value,groupedItems:K.value,columns:v.value,headers:f.value}));return se(()=>{const ae=ht.filterProps(e),Se=yt.filterProps(e),ne=bt.filterProps(e),ue=pt.filterProps(e);return i(pt,M({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ue),{top:()=>{var g;return(g=a.top)==null?void 0:g.call(a,Q.value)},default:()=>{var g,F,$,ie,_,z;return a.default?a.default(Q.value):i(L,null,[(g=a.colgroup)==null?void 0:g.call(a,Q.value),i("thead",null,[i(yt,Se,a)]),(F=a.thead)==null?void 0:F.call(a,Q.value),i("tbody",null,[($=a["body.prepend"])==null?void 0:$.call(a,Q.value),a.body?a.body(Q.value):i(bt,M(t,ne,{items:K.value}),a),(ie=a["body.append"])==null?void 0:ie.call(a,Q.value)]),(_=a.tbody)==null?void 0:_.call(a,Q.value),(z=a.tfoot)==null?void 0:z.call(a,Q.value)])},bottom:()=>a.bottom?a.bottom(Q.value):i(L,null,[i(za,null,null),i(ht,ae,{prepend:a["footer.prepend"]})])})}),{}}}),on={key:"actions"};function rn(e,l,t,a,n,o){const d=Qe("CreateDialog"),s=Qe("DeleteDialog"),u=Qe("UpdateDialog");return P(),j(At,null,{default:I(()=>[i(Ke,null,{default:I(()=>[i(un,{headers:e.headers,class:"elevation-1",items:e.newOptions[e.name],loading:e.optionLoading},{top:I(()=>[i(Wa,{flat:"",color:"primary"},{default:I(()=>[i(qa,null,{default:I(()=>[N("Administration")]),_:1}),i(d,{onCloseCreate:l[0]||(l[0]=c=>e.closeDialog("create")),isActive:e.dialog},null,8,["isActive"]),i(s,{onCloseCreate:l[1]||(l[1]=c=>e.closeDialog("delete")),isActive:e.dialogDelete},null,8,["isActive"]),i(u,{onCloseCreate:l[2]||(l[2]=c=>e.closeDialog("edit")),editedItem:e.editedItem,isActive:e.dialogUpdate},null,8,["editedItem","isActive"])]),_:1})]),item:I(({item:c})=>[Ue("tr",null,[(P(!0),R(L,null,be(c,(v,f)=>(P(),R(L,null,[Number.isInteger(v)&&String(f)!=="id"&&String(f)!=="type"&&String(f)!=="rank"&&String(f)!=="user_id"?(P(),R("td",{key:"raw"+f},[i(et,{value:c[f],disabled:""},null,8,["value"])])):String(f)==="user_id"?(P(),R("td",{key:"user"+f},oe(e.newOptions.users.find(r=>r.id===v).firstName+" "+e.newOptions.users.find(r=>r.id===v).lastName),1)):String(f)==="isActive"?(P(),R("td",{key:"active"+f},[i(et,{modelValue:c[f],"onUpdate:modelValue":r=>c[f]=r,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):String(f)==="characters"?(P(),R("td",{key:"characters"+f},[i(hl,{items:v,"item-title":"name",multiple:""},null,8,["items"])])):String(f)==="user_rank"?(P(),R("td",{key:"user-rank"+f},oe(Object(v).name),1)):String(f)==="user_type"?(P(),R("td",{key:"user-type"+f},oe(Object(v).name),1)):String(f)==="attribute_values"?(P(!0),R(L,{key:6},be(v,r=>(P(),R("td",{key:"attribute-value"+Object(r).id},[Object(r).attribute.name==="Family"?(P(),R(L,{key:0},[N(oe(e.newOptions.families.find(m=>m.id=Object(r).value.value)?e.newOptions.families.find(m=>m.id=Object(r).value.value).name:""),1)],64)):Object(r).attribute.name==="Religion"?(P(),R(L,{key:1},[N(oe(e.newOptions.religions.find(m=>m.id=Object(r).value.value)?e.newOptions.religions.find(m=>m.id=Object(r).value.value).name:""),1)],64)):(P(),R(L,{key:2},[N(oe(Object(r).value.value),1)],64))]))),128)):(P(),R("td",{key:f},oe(v),1))],64))),256)),Ue("td",on,[i(Oe,{size:"small",class:"me-2",onClick:v=>e.editItem(c)},{default:I(()=>[N(" mdi-pencil ")]),_:2},1032,["onClick"]),i(Oe,{size:"small",onClick:v=>e.deleteItem(c)},{default:I(()=>[N(" mdi-delete ")]),_:2},1032,["onClick"])])])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1})}const vn=Ge(cl,[["render",rn],["__scopeId","data-v-bb577b54"]]);export{vn as default};
